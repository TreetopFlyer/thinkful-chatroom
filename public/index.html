<!doctype html>
<html>
    <head>
        <title>Chatter</title>
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" />
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js"></script>
        <script src="//code.jquery.com/jquery-2.1.0.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script src="main.js"></script>
        <style>
            form{
                margin:10px;
            }
        </style>
    </head>
    <body ng-app="Chat">

        <div ng-controller="ControllerChat" class="container">
            
            <div class="row">
                <div class="col-sm-12">
                    <div class="jumbotron">
                        <h1>Pictionary</h1>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-sm-8">

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">Drawing</h3>
                        </div>
                        <div class="panel-body">
                            <canvas ng-drawing ng-interactive="user.drawing" width="800" height="600" style="width:800px; height:600px;"></canvas>
                        </div>
                        <div class="panel-body">
                            <h3 ng-show="user.authenticated">Guesses remaining: <span>{{user.guesses}}</span></h3>
                            <span ng-repeat="word in words.list">
                                <button type="button" class="btn btn-success" ng-class="{'disabled':word.guessed}" ng-click="words.click(word.index);">{{word.word}}</button>
                            </span>
                        </div>
                    </div>

                </div>
                <div class="col-sm-4">
                    <div class="panel panel-default" ng-show="members.log.length > 0">
                        <div class="panel-heading">
                            <h3 class="panel-title">Users Online</h3>
                        </div>
                        <ul class="Members list-group">
                            <li class="list-group-item" ng-repeat="member in members.log">
                                <span>{{member.alias}}</span>
                                <span ng-show="member.drawing" class="label label-primary">Drawing!</span>
                                <span class="badge">{{member.points}}</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 ng-hide="user.authenticated" class="panel-title">Join the game!</h3>
                            <h3 ng-show="user.authenticated" class="panel-title">Logged in as: <strong>{{user.alias}}</strong></h3>
                        </div>
                        <form ng-submit="aliasSubmit();" ng-hide="user.authenticated">
                            <div class="input-group">
                                <span class="input-group-addon" id="Alias">
                                    <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                                </span>
                                <input type="text" class="form-control" placeholder="Username" aria-describedby="Alias" ng-model="user.alias" ng-minlength="1">
                                <span class="input-group-btn">
                                    <button class="btn btn-primary" type="submit">Join!</button>
                                </span>
                            </div>
                        </form>
                        <form ng-show="user.authenticated" ng-submit="aliasRevoke();">
                            <button class="btn btn-primary" type="submit">
                                Sign out
                            </button>
                        </form>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">Chat</h3>
                        </div>
                        <ul class="Messages list-group">
                            <li class="list-group-item" ng-repeat="meta in messages.log">
                                <strong>{{meta.alias}} :</strong>
                                <span>{{meta.message}}</span>
                            </li>
                        </ul>
                        <div class="panel-footer">
                            <form ng-submit="chatSubmit();" ng-show="user.authenticated">
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="Send a message ..." aria-describedby="Chat" ng-model="user.message">
                                    <span class="input-group-btn">
                                        <button class="btn btn-primary" type="submit">Chat</button>
                                    </span>
                                </div>
                            </form>
                        </div>
                    </div>
                    
                </div>
            </div>

        </div>

       
    </body>
</html>